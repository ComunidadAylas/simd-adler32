name: publish

on:
  push:
    branches: [main]

jobs:
  publish:
    runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v2
        - run: |
            git config user.name "GitHub Actions"
            git config user.email noreply@github.com
        - uses: actions-rs/install@v0.1
          with:
            crate: cargo-release
            version: latest
        - run: cargo release --dry-run